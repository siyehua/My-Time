#APP首页接口请求优化

Andorid第一次启动接口请求过多,且会请求其他界面的数据

###第一次启动
####全局
接口|作用|必要
---|---|---
DNS|DNS|√
30005|获取版本信息,配置等|√
30009|发送手机识别码|√
30004|发送pushkey|×
####优化
30004接口该为由极光推送链接成功发送,且只发送一次.以及用户登录成功后发送

####首页
接口|作用|必要
---|---|---
10019|获取广告和精选帖子2次|×
40034|获取今日关注列表2次|×
####优化
接口20分钟调用一次,但第一次调用没用计时,修改为第一次也计时 

####赛事
接口|作用|必要
---|---|---
41000|比分列表|×
41004|关注列表(关注数目)|×
####优化
改为只有用户切换到赛事界面才开始初始化

####圈子
接口|作用|必要
---|---|--- 
10001|圈子列表|×
10005|热门帖子|×
####优化
改为只有用户切换到圈子界面才开始初始化 

####我的
接口|作用|必要
---|---|--- 
30007|获取最新消息(红点)|√
20013|获取用户信息(球币,专家)|√
20048|获取用户签到(红点)|√
####优化
可跟接口配合,球币,红点,加V等信息可以通过30005获取配置统一下发



###发现
接口号|作用|获取时间|方式
---|---|---|---
10019|获取广告和精选帖子|20分钟|切换到当前界面
40034|获取今日关注列表|20分钟|切换到当前界面
####优化
仅在当前界面才更新数据

###赛事
接口号|作用|获取时间|方式
---|---|---|---
41000|比分列表|实时更新|Socket                   
41004|关注状态,数目)|看到当前界面|切换到当前界面
####优化
仅在当前界面才更新数据

###圈子
接口号|作用|获取时间|方式
---|---|---|---
10001|圈子列表|10分钟,主动点击刷新|切换到当前界面 
10005|热门帖子|10分钟,主动点击刷新|切换到当前界面
####优化
仅在当前界面才更新数据 

###我的
接口号|作用|获取时间|方式
---|---|---|---
30007|获取最新消息(红点)|看到当前界面|切换到当前界面 
20013|获取用户信息(球币,专家)|看到当前界面|切换到当前界面 
20048|获取用户签到(红点)|看到当前界面|切换到当前界面
####优化
仅在当前界面才更新数据

因为数据一致要保持是最新的,每次回到当前界面都必须更新,可统一
由推送或Socket下发更新信息 

##结果
优化后第一次启动请求接口从14个降低到8个

从其他界面返回,原本请求四个接口的所有接口,改为只请求当前界面的接口.
